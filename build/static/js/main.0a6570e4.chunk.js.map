{"version":3,"sources":["components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/searchBar/Searchbar.module.css","components/loader/Loader.module.css","components/styles/App.module.css","fetcher.js","components/searchBar/Searchbar.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/button/Button.js","components/loader/Loader.js","components/modal/Modal.js","components/App.js","index.js"],"names":["module","exports","fetchImages","query","page","a","axios","get","data","hits","console","error","Error","Searchbar","onHandleSubmit","className","css","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","ImageGalleryItem","webformatURL","id","openModal","onClick","src","alt","ImageGalleryItemImage","ImageGallery","map","img","transformImg","key","shortId","Button","onClickLoadMore","override","Loader","props","state","loading","style","sweetLoading","size","color","this","React","Component","Modal","closeModal","Overlay","App","gallery","modal","largeImg","getFetch","setState","log","handleSubmit","e","preventDefault","target","elements","value","loadMoreImages","prev","nextPage","window","scrollTo","top","document","documentElement","scrollHeight","behavior","event","forEach","elem","Number","largeImageURL","onkeydown","code","prevProps","prevState","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.0a6570e4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2iCdG\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2RaYg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3zur2\",\"Modal\":\"Modal_Modal__JzWj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2J8yT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__UUCg_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2kpX-\",\"SearchForm\":\"Searchbar_SearchForm__1tuJu\",\"SearchFormButton\":\"Searchbar_SearchFormButton__14CRl\",\"SearchFormButton-label\":\"Searchbar_SearchFormButton-label__wsIhy\",\"SearchFormInput\":\"Searchbar_SearchFormInput__l-bxd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sweetLoading\":\"Loader_sweetLoading__38YFx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3gUxP\"};","import axios from \"axios\";\n\nexport const fetchImages = async (query, page) => {\n  try {\n    const data = await axios.get(\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=15165132-5d443299b6701a2727677252c&image_type=photo&orientation=horizontal&per_page=12`\n    );\n    return data.data.hits;\n  } catch (error) {\n    console.error(\"FETCH ERROR: \", error);\n    throw new Error(error);\n  }\n};\n","import React from \"react\";\nimport css from \"./Searchbar.module.css\";\n\nconst Searchbar = ({ onHandleSubmit }) => {\n  return (\n    <header className={css.Searchbar}>\n      <form onSubmit={onHandleSubmit} className={css.SearchForm}>\n        <button type=\"submit\" className={css.SearchFormButton}>\n          <span className={css.SearchFormButtonLabel}></span>\n        </button>\n\n        <input\n          className={css.SearchFormInput}\n          type=\"search\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default Searchbar;\n\n// {gallery.length >= 12 ? (\n//   <Button onClickLoadMore={this.loadMoreImages} />\n// ) : (\n//   <div></div>\n// )}\n","import React from \"react\";\nimport css from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, id, openModal }) => {\n  return (\n    <li className={css.ImageGalleryItem} onClick={openModal}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        id={id}\n        className={css.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\nimport css from \"./ImageGallery.module.css\";\nimport shortId from \"shortid\";\n\nconst ImageGallery = ({ data, openModal }) => {\n  return (\n    <ul className={css.ImageGallery}>\n      {data.map(img => {\n        const transformImg = { ...img, id: img.id };\n        return (\n          <ImageGalleryItem\n            openModal={openModal}\n            key={shortId()}\n            {...transformImg}\n          />\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport css from \"./Button.module.css\";\n\nconst Button = ({ onClickLoadMore }) => {\n  return (\n    <button onClick={onClickLoadMore} className={css.Button}>\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport { css } from \"@emotion/core\";\nimport ClipLoader from \"react-spinners/PacmanLoader\";\nimport style from \"./Loader.module.css\";\n\nconst override = css`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n  z-index: 30;\n`;\n\nclass Loader extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true\n    };\n  }\n\n  render() {\n    return (\n      <div className={style.sweetLoading}>\n        <ClipLoader\n          css={override}\n          size={40}\n          color={\"#3f51b5\"}\n          loading={this.state.loading}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Loader;\n","import React from \"react\";\nimport css from \"./Modal.module.css\";\n\nconst Modal = ({ img, closeModal }) => {\n  return (\n    <div className={css.Overlay} id=\"overlay\" onClick={closeModal}>\n      <div className={css.Modal}>\n        <img alt=\"\" src={img} />\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport { fetchImages } from \"../fetcher\";\nimport Searchbar from \"./searchBar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Button from \"./button/Button\";\nimport Loader from \"./loader/Loader\";\nimport Modal from \"./modal/Modal\";\n\nclass App extends Component {\n  state = {\n    gallery: [],\n    query: \"\",\n    loading: true,\n    page: 1,\n    modal: false,\n    largeImg: \"\"\n  };\n\n  componentDidMount() {\n    this.getFetch();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    prevState.query !== this.state.query && this.getFetch();\n  }\n\n  getFetch = async () => {\n    try {\n      const data = await fetchImages(this.state.query, this.state.page);\n      this.setState({\n        gallery: data,\n        loading: false\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.setState({\n      gallery: [],\n      query: e.target.elements[1].value,\n      loading: true\n    });\n  };\n\n  loadMoreImages = async () => {\n    this.setState(prev => ({\n      loading: true,\n      page: prev.page + 1\n    }));\n    const nextPage = this.state.page + 1;\n\n    try {\n      const data = await fetchImages(this.state.query, nextPage);\n\n      this.setState(prev => ({\n        gallery: [...prev.gallery, ...data],\n        loading: false\n      }));\n\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\"\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  openModal = event => {\n    this.state.gallery.forEach(elem => {\n      if (elem.id === Number(event.target.id)) {\n        this.setState({\n          modal: true,\n          largeImg: elem.largeImageURL\n        });\n      }\n    });\n\n    window.onkeydown = this.closeModal;\n  };\n\n  closeModal = event => {\n    if (event.code === \"Escape\" || event.target.id === \"overlay\") {\n      this.setState({\n        modal: false\n      });\n    }\n  };\n\n  render() {\n    const { gallery, loading, modal, largeImg } = this.state;\n    return (\n      <>\n        {loading && <Loader />}\n        {modal ? <Modal img={largeImg} closeModal={this.closeModal} /> : null}\n        <Searchbar onHandleSubmit={this.handleSubmit} />\n        <ImageGallery data={gallery} openModal={this.openModal} />\n        {gallery.length >= 12 ? (\n          <Button onClickLoadMore={this.loadMoreImages} />\n        ) : (\n          <></>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./components/styles/styles.css\";\nimport css from \"./components/styles/App.module.css\";\n\nReactDOM.render(<App className={css.App} />, document.getElementById(\"root\"));\n"],"sourceRoot":""}